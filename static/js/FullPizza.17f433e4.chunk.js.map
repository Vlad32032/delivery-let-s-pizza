{"version":3,"file":"static/js/FullPizza.17f433e4.chunk.js","mappings":"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","sources":["webpack://diliveri-let-s-pizza/./src/components/PizzaById/PizzaById.module.scss?c519","components/PizzaById/PizzaById.tsx","pages/FullPizza.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"PizzaById\":\"PizzaById_PizzaById__Xg3AK\",\"wrapperImg\":\"PizzaById_wrapperImg__O15Bi\",\"img1\":\"PizzaById_img1__+ibeq\",\"img2\":\"PizzaById_img2__6UY6G\",\"img3\":\"PizzaById_img3__qHUi5\",\"wrapperDescription\":\"PizzaById_wrapperDescription__YKjZb\"};","import { FC, useState } from \"react\";\n\nimport { dataTypesDough } from \"../../assets/data/data\";\n\nimport { Link } from \"react-router-dom\";\n\nimport { IPizza } from \"../../redux/slices/pizzasSlice\";\nimport { useAppDispatch, useAppSelector } from \"../../redux/hooks/hooks\";\nimport { addCartItem, countCart } from \"../../redux/slices/cartSlice\";\n\nimport styles from \"./PizzaById.module.scss\" \n\nconst PizzaById: FC<IPizza> = ({ id, title, description, imageUrl, prices, sizes, types }) => {\n    const typesDough = dataTypesDough;\n\n    const dispatch = useAppDispatch();\n\n    const [activeSize, setActiveSize] = useState(sizes[0]);\n    const [activePrice, setActivePrise] = useState(prices[0]);\n    const [activeType, setActiveType] = useState(types[0]);\n    const [activeImg, setActiveImg] = useState(1);\n\n    const pizzaId = Number(`${activeType + 1}${activeSize}${id}`);\n\n    const cartItem = useAppSelector((state) => state.cart.cartItems.find((obj) => obj.id === pizzaId));\n\n    const addPizzaToCart = () => {\n        const item = {\n            id: pizzaId, \n            title,\n            imageUrl: imageUrl[0],\n            price: activePrice + (activeType * 100), \n            size: activeSize,\n            type: typesDough[activeType],\n            count: 1,\n        };\n\n        dispatch(addCartItem(item));\n        dispatch(countCart());\n    };\n\n    const onSizeClick = (size: number, i: number) => {\n        setActiveSize(size);\n        setActivePrise(prices[i]);\n        setActiveImg(i + 1)\n    };\n\n    return (\n        <div className={styles.PizzaById}>\n            <div className={styles.wrapperImg}>\n                <img\n                    className={styles[`img${activeImg}`]}\n                    src={imageUrl[activeImg]}\n                    alt=\"Pizza\"\n                />\n            </div>\n\n            <div className={styles.wrapperDescription}>\n                <h2>{title}</h2>\n\n                <p>{`${activeSize}см ${typesDough[activeType]} тесто`}</p>\n\n                <p>{description}</p>\n\n                <div className=\"pizza-block__selector\">\n                    <ul>\n                        {types.map((type) => {\n                            return (\n                                <li\n                                    key={typesDough[type]}\n                                    onClick={() => setActiveType(type)}\n                                    className={activeType === type ? 'active' : ''}\n                                >\n                                    {typesDough[type]}\n                                </li>\n                            );\n                        })}\n                    </ul>\n                    <ul>\n                        {sizes.map((size, i) => {\n                            return (\n                                <li\n                                    key={size}\n                                    onClick={() => onSizeClick(size, i)}\n                                    className={activeSize === size ? 'active' : ''}\n                                >\n                                    {size} см.\n                                </li>\n                            );\n                        })}\n                    </ul>\n                </div>\n                <div className=\"pizza-block__bottom\">\n                    <div className=\"pizza-block__price\">{activePrice + (activeType * 100)} ₽</div>\n                    <button onClick={addPizzaToCart} className=\"button button--outline button--add\">\n                        <svg\n                            width=\"12\"\n                            height=\"12\"\n                            viewBox=\"0 0 12 12\"\n                            fill=\"none\"\n                            xmlns=\"http://www.w3.org/2000/svg\"\n                        >\n                            <path\n                                d=\"M10.8 4.8H7.2V1.2C7.2 0.5373 6.6627 0 6 0C5.3373 0 4.8 0.5373 4.8 1.2V4.8H1.2C0.5373 4.8 0 5.3373 0 6C0 6.6627 0.5373 7.2 1.2 7.2H4.8V10.8C4.8 11.4627 5.3373 12 6 12C6.6627 12 7.2 11.4627 7.2 10.8V7.2H10.8C11.4627 7.2 12 6.6627 12 6C12 5.3373 11.4627 4.8 10.8 4.8Z\"\n                                fill=\"white\"\n                            />\n                        </svg>\n                        <span>Добавить</span>\n                        { cartItem && (\n                            <i>{cartItem.count}</i>\n                        )}\n                    </button>\n                </div>\n\n                <Link to={'/'}>\n                    <button className=\"button button--outline button--add\">Вернуться назад</button>\n                </Link>\n            </div>\n        </div>\n    );\n};\n\nexport default PizzaById;","import { FC, useEffect } from \"react\";\n\nimport { useNavigate, useParams } from \"react-router-dom\";\n\nimport { useAppDispatch, useAppSelector } from \"../redux/hooks/hooks\";\nimport { fetchPizzaById, selectPizzasState } from \"../redux/slices/pizzasSlice\";\nimport PizzaById from \"../components/PizzaById/PizzaById\";\n\nconst FullPizza: FC = () => {\n    const navigate = useNavigate();\n    const dispatch = useAppDispatch();\n\n    const { id } = useParams();\n    const url = `https://66913f9226c2a69f6e8f1533.mockapi.io/pizzas/${id}`;\n\n    const { pizzaById, status } = useAppSelector(selectPizzasState);\n\n\n    useEffect(() => {\n        dispatch(fetchPizzaById(url));\n    }, []);\n\n    if (status === 'error') {\n        navigate('/error');\n    };\n\n    return (\n        <div>\n            {status === 'loading' && (\n                <div>Loading...</div>\n            )}\n            {pizzaById && <PizzaById {...pizzaById}/>}\n        </div>\n    );\n} \n\nexport default FullPizza;"],"names":["_ref","id","title","description","imageUrl","prices","sizes","types","typesDough","dataTypesDough","dispatch","useAppDispatch","activeSize","setActiveSize","useState","activePrice","setActivePrise","activeType","setActiveType","activeImg","setActiveImg","pizzaId","Number","concat","cartItem","useAppSelector","state","cart","cartItems","find","obj","_jsxs","className","styles","PizzaById","children","_jsx","wrapperImg","src","alt","wrapperDescription","map","type","onClick","size","i","onSizeClick","addPizzaToCart","item","price","count","addCartItem","countCart","width","height","viewBox","fill","xmlns","d","Link","to","FullPizza","navigate","useNavigate","useParams","url","pizzaById","status","selectPizzasState","useEffect","fetchPizzaById"],"sourceRoot":""}